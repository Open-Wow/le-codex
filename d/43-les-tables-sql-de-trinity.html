<!doctype html>
<html dir="ltr" lang="fr">
<head>
<meta charset="utf-8">
<title>Les tables SQL de Trinity - Open WoW</title>
<link rel="stylesheet" href="../assets/forum-b586aac9.css">
<link rel="canonical" href="43-les-tables-sql-de-trinity.html">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
<meta name="description" content="Le forum francophone d&#039;√©mulation WoW.">
<meta name="theme-color" content="#4D698E">
<link rel="shortcut icon" href="../assets/favicon-19klahq3.png">
<script src="https://www.recaptcha.net/recaptcha/api.js?hl=fr&render=explicit" async defer></script>
</head>
<body>
<div id="app" class="App">
<div id="app-navigation" class="App-navigation"></div>
<div id="drawer" class="App-drawer">
<header id="header" class="App-header">
<div id="header-navigation" class="Header-navigation"></div>
<div class="container">
<h1 class="Header-title">
<a href="https://forum.open-wow.eu" id="home-link">
<img src="../assets/logo-fje1vtuv.png" alt="Open WoW" class="Header-logo">
</a>
</h1>
<div id="header-primary" class="Header-primary"></div>
<div id="header-secondary" class="Header-secondary"></div>
</div>
</header>
</div>
<main class="App-content">
<div id="content"></div>
<div id="flarum-loading" style="display: none">
Chargement‚Ä¶
</div>
<noscript>
    <div class="Alert">
        <div class="container">
            Ce site est optimis√© pour √™tre consult√© depuis un navigateur moderne dans lequel JavaScript est activ√©.
        </div>
    </div>
</noscript>
<div id="flarum-loading-error" style="display: none">
<div class="Alert">
<div class="container">
Une erreur est survenue lors de la tentative de chargement de la version compl√®te de ce site. Veuillez purger le cache de votre navigateur et rafra√Æchir cette page pour tenter de corriger cette erreur.
</div>
</div>
</div>
<noscript id="flarum-content">
    <div class="container">
    <h2>Les tables SQL de Trinity</h2>

    <div>
                    <div>
                                <h3>Galathil</h3>
                <div class="Post-body">
                    <p><strong>Important :</strong> Ce tutoriel a √©t√© r√©dig√© par Nobodie pour le site wow-emu.fr. Je le recopie ici √† l'identique, Il se peut que certaines informations soient obsol√®tes √† ce jour. Bonne lecture !</p>

<h1>Les tables SQL de Trinity</h1>

<p><strong>Pr√©lude : Ce sujet n'est pas original, il a √©t√© transf√©r√© d'un pr√©c√©dent forum d'√©mulation en date d'Octobre 2013. J'en suis l'auteur, je le transf√®re donc pour les besoins de ce forum. Bien qu'il soit en partie r√©-√©crit, il se peut que certains termes soient inadapt√©s ou ne soient plus d'actualit√©.<br>
Ce tutoriel n'a pas √©t√© directement √©crit par moi-m√™me, mais par un des membres de l'√©quipe Mist-Eria. ce sujet est post√© avec l'accord de son auteur. Des modifications peuvent y √™tre apport√©es dans un but de clarification.</strong></p>

<p>Bonjour tous le monde,</p>

<p>Suite au tutoriel sur l'apprentissage des bases du SQL, on continue la s√©rie avec une explication sur les tables TrinityCore. Pour la suite de ce post, nous partirons sur une base 4.3.4.</p>

<h2>1) Un serveur WoW, 3 bases de donn√©es</h2>

<p>Pour fonctionner, un serveur WoW (ici TrinityCore) a besoin de tr√®s nombreuses tables qui permettent de stocker de nombreuses informations comme la liste des joueurs, leur inventaire, leurs spells, mais aussi la liste des NPCs, leur niveau et des milliers d'autres informations.</p>

<p>Pour cela, les concepteurs des √©mulateurs ont divis√© les tables dans trois DBs :</p>
 <ul><li><strong>characters</strong> : qui contient la liste des personnages et toutes les informations les concernant.</li>
 <li><strong>auth</strong> : qui g√®re l'authentification des comptes (notamment sur la page de connexion).</li>
 <li><strong>world</strong> : qui contient toutes les donn√©es concernant le monde.</li></ul>

<p>Nous pourrions d√©tailler les trois DBs, mais l'int√©r√™t serait limit√© pour la table auth et characters qui ne sont pas tellement d√©buguables, en revanche la base world est celle sur laquelle les devs SQL ont l'habitude de travailler, donc c'est parti pour la d√©tailler et surtout pour la comprendre.</p>

<h3>Les tables *_template et associ√©s</h3>

<p>Comme son nom l'indique, cette DB d√©crit le contenu du monde. Que ce soit pour une qu√™te, un objet du jeu, une cr√©ature ou bien d'autres choses, c'est la DB o√π vous travaillez. J'esp√®re que cette introduction bien peu utile vous aura distrait parce que c'est parti pour bosser :niark: .</p>

<p>Lorsque vous lirez les lignes qui suivent, ne perdez pas de vue que tout ce que vous faites dans les tables SQL est reli√© au Core (c'est √† dire au syst√®me g√©rant le serveur). Ainsi si vous cr√©ez une ligne pour un nouveau NPC, cela signifiera que le Core lira √† un moment ou √† un autre votre ligne.</p>

<p>Les premi√®res tables seront celles qui permettent d‚Äôinteragir rapidement sur le monde (histoire de vous mettre l'eau √† la bouche).<br>
Les tables dont nous parlons sont :</p>
 <ul><li>creature_template / creature</li>
 <li>gameobject_template / gameobject</li>
 <li>item_template</li>
 <li>quest_template</li></ul>


<p>En dehors de quest_template et item_template, vous remarquerez que les tables fonctionnent par paire. Template signifie mod√®le. Donc dans les tables *_template, on trouve une d√©finition de l'objet. Par exemple si on est dans creature_template on trouvera le nom du NPC, son niveau, sa vie. Alors que dans les tables sans _template on trouvera l'instanciation du template. Pour creature, cela signifiera qu'on trouvera l'endroit o√π est spawn le NPC (son altitude, la zone, la coordonn√©e X et Y ainsi que quelques petites informations comme le temps de spawn ou ce genre de chose).</p>

<p>Alors dit comme √ßa c'est bien beau, mais concr√®tement, √ßa ressemble √† quoi en DB ?<br>
Et bien les couples de tables sont reli√© par... un id !</p>

<p>Ainsi dans les tables *_template vous avez un champ nomm√© entry ou id (selon la version de votre DB). Cet identifiant permet dans la table sans le _template d'identifier le template.<br>
Plus clairement :<br>
Si je cr√©e le NPC 1 dans la table creature_template, je pourrai spawn un NPC correspondant au template 1 en sp√©cifiant l'id 1 dans la table creature.</p>

<p>Les _template d√©finissent un objet / creature / qu√™te / item alors que les autres tables les placent dans le monde.<br>
Alors pourquoi item et quest n'ont pas de table sans _template ? Tout simplement parce qu'une qu√™te ne peut pas √™tre mat√©rialis√© √† un endroit pr√©cis tout comme un item. Les qu√™tes sont un regroupement d'informations, et les items ont leur existence propre uniquement lorsqu'ils sont poss√©d√©s par des joueurs.</p>

<p>J'insiste beaucoup sur cette diff√©rence *_template / sans _template car c'est un des points fondamentales de la logique TrinityCore (et s√ªrement Mangos&amp;co).</p>

<p>Maintenant si vous souhaitez comprendre toutes ces tables, il ne vous reste plus qu'√† visiter le wiki Trinity (je ne tiens pas vraiment √† lister tous les champs pour vos beaux yeux üòâ).</p>

<h3>Les tables locales_*</h3>

<p>Ces tables l√† ne sont vraiment pas compliqu√©es mais sont tr√®s nombreuses, j'explique donc leur fonctionnement une fois et comme √ßa, vous n'y pensez plus.<br>
Les tables locales servent simplement √† d√©finir les traductions des noms de diff√©rentes choses jusqu'√† dans 9 langues. Ainsi locales_creature, on vous propose de traduire le nom et et le "sous-nom" d'une cr√©ature : sp√©cifiez l'entry de la cr√©ature et ensuite traduisez. Vous n'√™tes √©videmment pas oblig√©s de traduire dans toutes les langues, mais juste celle qui vous int√©resse ^^.<br>
Pour savoir √† quelle langue correspond name_loc1, il faut voir sur le wiki trinity √† quoi correspond la langue 1.</p>

<p>C'est tout pour cette sous-partie üòÄ.</p>

<h3>Creature_questrelation, creature_involvedrelation et les √©quivalents gameobject</h3>

<p>J'ai parl√© plus haut des games objects sans pour autant les d√©finir. La traduction fran√ßaise de ces termes est : objet du jeu. Les objets du jeu peuvent √™tre un banc, une affiche, une table, et m√™me Hurlevent (si si hurlevent doit se placer sur la map comme une pauvre chaise).</p>

<p>Plus haut, nous avons vu qu'il y avait des templates de qu√™tes. Vous vous doutez bien qu'on y d√©finit les objectifs, les r√©compenses et ce genre de chose. En revanche, vous ne savez pas encore comment on sait si un NPC doit donner une qu√™te. Et bien dans quelques minutes vous le saurez gr√¢ce √† ces quatre tables SQL.<br>
La table creature_questrelation dispose de deux champs : id et quest. ID correspond √† l'identifiant du NPC qui donnera la qu√™te et quest √† la qu√™te qui sera donn√©e. Creature_involvedrelation fait exactement la m√™me chose avec les m√™mes champs, mais l'objectif est de d√©finir le NPC qui vous permettra de prendre vos r√©compenses.</p>

<p>Vous l'avez s√ªrement remarqu√© : les panneaux dans les grandes capitales donnent des qu√™tes, et pourtant ce ne sont pas des NPCs : c'est un gameobject (ou GOB) üòÄ. Pour qu'un GOB puisse donner une qu√™te il existe deux tables : gameobject_questrelation et gameobject_involvedrelation. Je ne d√©crirais pas le fonctionnement de ces tables, mais vous aurez devin√© que c'est exactement comme pour les cr√©atures ^^.</p>

<p>Avec l'ensemble de ces tables, vous pouvez d√©j√† bien vous amuser. L'important c'est avant tout de pratiquer et de prendre des automatismes. C'est notamment ce qui vous permettra peu √† peu de comprendre la logique de TrinityCore üòÄ.</p>

<h3>Les gossips</h3>

<p>Lorsqu'un NPC ouvre une fen√™tre de discussion avec vous, il ouvre un gossip (gossip signifiant discussion ^^). Leur gestion s'effectue √† l'aide de deux tables : gossip_menu qui contient la liste des gossip en reliant l'ID du NPC au texte qui sera affich√© en haut de la fen√™tre (et qui est stock√© dans npc_text) et gossip_menu_option qui g√®re les diff√©rentes possibilit√©s offerte par le gossip.<br>
Pour cr√©er un gossip sur un NPC on commence tout d'abord par attribu√© un flag au NPC dans le creature_template, c'est √† dire qu'on va lui ajouter selon le principe des bitmasks une valeur qui sera g√©r√© par le core et qui lui indiquera que le NPC doit ouvrir un gossip lorsqu'on clic sur lui. Le flag correspondant au gossip est le flag 1. Pour l'ajouter √† un flag d√©j√† existant, il suffit de faire flag | 1, s'il n'y a aucun flag, on met simplement une valeur de 1. Je vous invite √† aller lire le tutoriel sur les bitmasks pour mieux comprendre leur fonctionnement.</p>

<p>Une fois cela fait, et toujours dans le creature_template, on va lier le template √† la table gossip_menu. Pour cela on donne √† la colonne gossip_menu_id avec l'id qu'on donnera dans gossip_menu : l'objectif est de lier les deux gr√¢ce √† un identifiant unique.</p>

<p>Vous l'aurez devin√© une fois cela fait on cr√©e dans la table gossip_menu une ligne liant le champ gossip_menu_id avec le texte qui sera √©crit en haut. Apr√®s avoir un peu observ√© cette table, vous verrez quelque chose de monstrueux ! : il n'y a pas de varchar o√π l'on peut √©crire. Ne vous inqui√©tez pas, tout est normal. Il faut en faites remplir dans la seconde colonne un id vers la table npc_text (√ßa devient compliqu√©). Choisissez donc un id pour le npc_text et inscrivez le dans le gossip_menu.<br>
Pour remplir rien de bien compliqu√© : le champ text0_0 correspond au texte pour un personnage homme et text0_1 au texte pour un personnage femme.</p>

<p>Si vous red√©marrez votre serveur, vous pourrez cliquer sur votre NPC et voir s'afficher le text0_0/1 üòÄ.</p>

<p>Passons maintenant √† la seconde partie, les options. Pour cela rendez-vous dans la table gossip_menu_option. Pour d√©finir une option, on entre le menu_id (l'id que vous avez d√©finit avec le gossip_menu_id dans creature_template ensuite rentrez un id qui identifiera l'option pour le gossip d'id gossip_menu_id. Ainsi si vous avez deux options, vous aurez l'id 1 et 2.</p>

<p>Pour l'option_icon, vous pouvez choisir un chiffre dans la liste (sur le wiki). Certains √©mulateurs ne fonctionnent pas lorsqu'on met une autre valeur que le un. Le champ option_text correspond au texte de l'option, pour les champs option_id et npc_option_npcflag laissez la valeur √† 1 (sauf cas tr√®s particulier qui ne m√©rite pas forc√©ment quelques paragraphes).<br>
Vous pouvez laisser vide les derniers champs.<br>
Si vous avez une table nomm√©e gossip_scripts, vous pouvez mettre dans action_menu_id l'id du script lanc√© par l'option du gossip (vous verrez plus bas les tables en *_scripts).</p>

<h3>Les waypoints et waypoints_data</h3>

<p>C'est bien joli d'avoir des NPCs fonctionnels un peu partout, mais c'est pas forc√©ment tr√®s beau. D'o√π l'int√©r√™t des waypoints : faire marcher des NPCs d'un point A √† un point B (et m√™me jusqu'√† un point Z ou 30000). Le syst√®me marche avec deux tables : waypoints et waypoints_data. La seconde table est facultative mais permet d'ajouter certaines informations.</p>

<p>Dans waypoints, vous entrez le GUID du NPC. Je ne vous en ai pas encore parl√©, mais les GUID sont des identifiants uniques (Global Unique IDentifier). Si vous avez un template (oui on en revient toujours √† ces tables üòã), vous pouvez spawner plusieurs fois le NPC du template. Comment identifier chacun des NPCs spawn√© ? Eh bien avec un GUID. Vous pouvez avoir 36 000 NPCs avec un template = 1, ils auront tous un GUID diff√©rent (un champ auto-incr√©ment√© dans la table creature ou gameobject).</p>

<p>Reprenons donc √† nos waypoints : entrez le GUID du NPC que vous souhaitez faire bouger, l'id du point (si vous devez faire aller un NPC de A √† B, il faut donner un ID au point : le point 1 sera le premier, le 2 ensuite, etc), puis les coordonn√©es de chaque point et enfin si vous le souhaitez un commentaire (point de d√©part, point d'arriv√©, etc...).</p>

<p>Si nous devions remplir cette table nous m√™me, nous serions encore plus fou que ce que nous sommes d√©j√†, mais heureusement pour nous, il existe la commande .wp que je ne vous d√©crirai pas ici.</p>

<p>En revanche, la table waypoints_data elle est √† faire √† la main (mais heureusement, elle est juste facultative). Elle peut vous servir par exemple si vous souhaitez que votre NPC attende 10 secondes avant d'aller au point suivant). Cr√©ez une ligne dans la table waypoints_data donnez lui le GUID du NPC et le point sur lequel vous souhaitez influer. Ensuite rentrez ce que vous souhaitez : delay pour changer la dur√©e avant le nouveau d√©part, move_flag pour faire marcher le NPC plut√¥t que de le faire courir, action pour joindre le waypoints √†... waypoints_script (les tables *_scripts seront vues plus bas).</p>

<h3>*_scripts et la magie s'op√©ra</h3>

<p>Il arrive que l'on veuille faire des choses compliqu√©es et bien souvent on pense tout de suite au C++, cependant bien des choses sont faisables avec le SQL √† l'aide de certaines tables comme les tables en *_scripts.</p>

<p>Selon votre version de Trinity (voir de SkyFire) les tables en *_scripts disponibles ne sont pas les m√™mes, mais le syst√®me est toujours similaire : sur un √©v√©nement -&gt; faire une action. On pourrait presque parler de micro-programmation √©v√©nementielle ^^.</p>

<p>Selon les tables li√©es aux scripts, l‚Äô√©v√©nement se d√©clenche de mani√®re diff√©rente. Dans le cas d'un waypoint, l‚Äô√©v√©nement se d√©clenche √† l'arriv√© du NPC sur le point li√© au script. Une fois cela fait, il faut donner la dur√©e avant le d√©clenchement de l'action (bien souvent 0 milliseconde) puis le type d'action (la commande), enfin on donne les param√®tres correspondant √† la commande : pour t√©l√©porter un joueur on ne donnera pas les m√™mes param√®tres que pour ouvrir une porte ou tuer un mob.</p>

<p>Toutes ces commandes et leurs param√®tres sont trouvables sur le wiki de Trinity.</p>

<p>En faites j'ai √©crit les tables *_scripts, mais la table smart_scripts ne rentre pas dedans. Pourquoi ? Parce que c'est une table bien plus compl√®te qui m√©rite sa propre partie ^^.</p>

<h3>Smart_scripts ou mal de t√™te express</h3>

<p>Le titre vous a s√ªrement intrigu√©, mais il est tr√®s proche de la r√©alit√©. La complexit√© de la table smart_scripts permet de faire beaucoup de choses (pour du SQL).</p>

<p>Cette page vous sera indispensable pour faire du smart_scripts, vous y trouverez tous les tableaux de correspondances</p>

<p>Tout comme pour les tables en _scripts, smart_scripts d√©clenche une action sur un √©v√©nement.<br>
Tout d'abord on d√©finit l‚Äô√©l√©ment qu'on va v√©rifier pour valider un √©v√©nement. Ce champ est le source_type. Ensuite, donnez l'entryorguid : si vous souhaitez indiquer un entry √©crivez le, si c'est un GUID, √©crivez le en version n√©gative : pour le guid 3165, il faudra √©crire : -3165.<br>
Vient ensuite l'id, comme souvent dans les tables Trinity, l'id est l'id pour l'association entryorguid/source_type. Ainsi si vous avez plusieurs smart_scripts pour un m√™me √©l√©ment, il y aura plusieurs id : 1, 2, 3... Le champ link permet de lier entre eux des scripts : Une fois le script d'id A ex√©cut√©, il lancera celui qui est dans le champ link. Pour que le script B se lance, il faut obligatoirement que l‚Äô√©v√©nement B soit de type : SMART_EVENT_LINK.</p>

<p>Il vous faut ensuite d√©finir le type de l'√©v√©nement (la liste se trouve toujours sur le lien plus haut) et si vous le souhaitez la probabilit√© qu'il se produise (en pourcentage). Rentrez ensuite les param√®tres demand√© sur la page du wiki puis choisissez le type d'action et rentrez les param√®tres correspondants.<br>
Pour d√©finir la cible de l'action rentrez les champs de target (type + param√®tres). Dans certains cas les √©v√©nements ont aussi besoin d'une cible au quel cas, tout se complique. Vous ne pouvez rentrer qu'une seule target. La solution est donc de faire deux smart_scripts li√© par le link et l‚Äô√©vent SMART_EVENT_LINK.</p>

<p>Pour expliquer votre smart_scripts vous pouvez aussi ins√©rer un commentaire dans le dernier champ.</p>

<p>Vu comme √ßa, les smart_scripts ne donnent pas vraiment envie, et c'est tout √† fait normal. Cependant il existe un outils r√©volutionnaire pour les r√©diger qui vous permettra de gagner √©norm√©ment de temps et de vous rendre les smart_scripts presque... agr√©able üòÄ. Ce logiciel se nomme Event Horizon et donne une interface graphique pour g√©n√©rer vos codes SQL.</p>

<h3>Conditions</h3>

<p>Encore une table compliqu√©e qui permet de faire des merveilles. Elle permet √† l'aide de conditions pr√©d√©finies de faire appara√Ætre ou dispara√Ætre des √©l√©ments du jeu : que ce soit un NPC, une qu√™te, un gossip, une vente, un smart_scripts.<br>
Bref une table permettant de faire des choses compliqu√©es est forc√©ment tr√®s ennuyante.</p>

<p>Etant donn√©e sa complexit√©, je ne vais pas vous la d√©tailler, mais sachez que le wiki est tr√®s clair sur cette table (√† condition que vous descendiez vers le bas de la page üòâ).</p>

<h3>Des tables en vracs</h3>

<p>Il existe des dizaines de tables, et faire le descriptif d√©taill√© de chacune serait tr√®s long sans pour autant vous assurer de bien les retenir. Voici donc une liste de quelques tables avec une description :</p>
 <ul><li><strong>autobroadcast</strong> : cette table sert √† d√©finir les messages qui sont automatiquement publi√©s par le serveur.</li>
 <li><strong>command</strong> : l'aide des commandes en jeu. Lorsque vous tapez .help commande, le jeu vous affiche la ligne correspondant √† la commande.</li>
 <li><strong>creature_addon / creature_template_addon</strong> : permet d'ajouter des montures ou des smileys sur des guid ou des id de cr√©ature.</li>
 <li><strong>creature_formation</strong> : permet de d√©finir des groupes de NPCs qui bougent ensemble (notamment utilis√© pour g√©rer les arm√©es devant les capitales) ou pour cr√©er des groupes de NPCs hostiles qui s'entraident en cas d'attaque.</li>
 <li><strong>disables</strong> : permet de d√©sactiver certains √©l√©ments du jeu (qu√™te, NPC, etc) sans pour autant les supprimer des tables (pour pouvoir les r√©activer plus tard). En g√©n√©ral, on √©vite de supprimer une ligne du world, on pr√©f√®re utiliser cette table.</li>
 <li><strong>game_event / game_event_</strong>* : ces tables sont utilis√©s pour g√©rer les √©v√©nements en jeu et ainsi relier de nombreuses informations entre elle avec la possibilit√© de les d√©sactiver facilement. Un petit tutoriel sera d√©di√© √† ces quelques tables.</li>
 <li><strong>game_graveyard_zone</strong> : liste les zones de t√©l√©portation des joueurs √† leur mort selon leur zone</li>
 <li><strong>game_tele</strong> : table contenant tous les points de t√©l√©portation (commande : .tele xxx)</li>
 <li><strong>game_weather</strong> : ici sont stock√©s les probabilit√©s de chaque m√©t√©o par zone (orage, soleil, pluie, neige)</li>
 <li><strong>mail_level_reward</strong> : contient les mails envoy√© automatiquement √† certains niveaux.</li>
 <li><strong>npc_vendor</strong> : contient les items vendu par un NPC vendeur (attention le NPC doit avoir le flag 128)</li>
 <li><strong>player_levelstats</strong> : une table tr√®s probl√©matique lorsqu'on ne connait pas la formule math√©matiques utilis√©s par blizzard qui d√©finit les stats minimum des joueurs lorsqu'ils sont nu √† chaque niveau.</li>
 <li><strong>player_xp_for_level</strong> : contient le nombre de points d'exp√©rience n√©cessaire pour passer au niveau sup√©rieur</li>
 <li><strong>playercreateinfo_</strong>* : les donn√©es qui sont g√©n√©r√©s lors de la cr√©ation d'un personnage (par exemple lorsque vous commencer un personnage vous parlez d√©j√† certaines langues -qui sont des spells-, vous avez des v√™tements -des items- et bien d'autres choses</li>
 <li><strong>pool_</strong>* : ces tables ci sont faites pour faire appara√Ætre un des √©l√©ments contenu avec une certaine probabilit√©. Par exemple, un drakonide rare pourra √™tre plac√© dedans et il spawnera au diff√©rents emplacements d√©finies de mani√®re al√©atoire.</li>
 <li>*<strong>_loot_template</strong> : ces tables d√©finissent le taux de loot d'items lorsqu'un mob meurt, mais aussi lorsqu'il est fouill√© par un voleur ou ce genre de chose.</li></ul>


<p>Il existe √©videmment d'autres tables, mais le but de ce cour n'√©tait pas de r√©√©crire le wiki mais bien d'essayer de vous faire comprendre quelles tables √©taient les plus importantes.</p>

<p>Si vous pensez que certaines tables √©voqu√©es uniquement dans la derni√®re partie voir pas du tout √©voqu√©es m√©ritent une place dans les tables que je d√©cris plus volontiers, vous pouvez le sp√©cifier dans les r√©ponses, et je r√©fl√©chirai √† leur int√©gration dans le cour üòÄ.</p>

<p>N'oubliez pas de pratiquer car c'est la cl√© du d√©veloppement SQL sous TrinityCore.<br>
Bon d√©veloppement.</p> 
                </div>
            </div>

            <hr>
            </div>

    
    </div>

</noscript>
<div class="App-composer">
<div class="container">
<div id="composer"></div>
</div>
</div>
</main>
</div>
<div id="modal"></div>
<div id="alerts"></div>
<script>
            document.getElementById('flarum-loading').style.display = 'block';
            var flarum = {extensions: {}};
        </script>
<script src="../assets/forum-2c55cc91.js"></script>
<script src="../assets/forum-fr-b93474b7.js"></script>
<script>
            document.getElementById('flarum-loading').style.display = 'none';

            try {
                flarum.core.app.load({"resources":[{"type":"forums","id":"1","attributes":{"title":"Open WoW","description":"Le forum francophone d\u0027\u00e9mulation WoW.","showLanguageSelector":true,"baseUrl":"https:\/\/forum.open-wow.eu","basePath":"","debug":false,"apiUrl":"https:\/\/forum.open-wow.eu\/api","welcomeTitle":"Bienvene sur Open WoW","welcomeMessage":"Le forum francophone d\u0027\u00e9mulation WoW.","themePrimaryColor":"#4D698E","themeSecondaryColor":"#4D698E","logoUrl":"https:\/\/forum.open-wow.eu\/assets\/logo-fje1vtuv.png","faviconUrl":"https:\/\/forum.open-wow.eu\/assets\/favicon-19klahq3.png","headerHtml":null,"footerHtml":null,"allowSignUp":true,"defaultRoute":"\/all","canViewDiscussions":true,"canStartDiscussion":true,"canViewUserList":false,"canViewFlags":false,"guidelinesUrl":null,"minPrimaryTags":"1","maxPrimaryTags":"1","minSecondaryTags":"0","maxSecondaryTags":"99","canSeeUserDirectoryLink":false,"userDirectoryDefaultSort":"username_az","darkMode":true,"categories.keepTagsNav":false,"categories.fullPageDesktop":false,"categories.compactMobile":false,"categories.parentRemoveIcon":false,"categories.parentRemoveDescription":false,"categories.parentRemoveStats":false,"categories.parentRemoveLastDiscussion":false,"categories.childBareIcon":false,"emojioneAreaEnableSearch":true,"emojioneAreaEnableRecent":true,"emojioneAreaEnableTones":true,"emojioneAreaFiltersPositionBottom":false,"emojioneAreaSearchPositionBottom":false,"emojioneAreaHideFlarumButton":true},"relationships":{"groups":{"data":[{"type":"groups","id":"1"},{"type":"groups","id":"2"},{"type":"groups","id":"3"},{"type":"groups","id":"4"}]},"tags":{"data":[{"type":"tags","id":"1"},{"type":"tags","id":"2"},{"type":"tags","id":"3"},{"type":"tags","id":"9"},{"type":"tags","id":"10"},{"type":"tags","id":"11"},{"type":"tags","id":"12"},{"type":"tags","id":"13"},{"type":"tags","id":"14"},{"type":"tags","id":"15"},{"type":"tags","id":"16"},{"type":"tags","id":"17"},{"type":"tags","id":"18"},{"type":"tags","id":"19"},{"type":"tags","id":"20"},{"type":"tags","id":"21"},{"type":"tags","id":"23"},{"type":"tags","id":"24"},{"type":"tags","id":"25"},{"type":"tags","id":"26"},{"type":"tags","id":"27"},{"type":"tags","id":"28"},{"type":"tags","id":"29"},{"type":"tags","id":"30"},{"type":"tags","id":"31"},{"type":"tags","id":"32"},{"type":"tags","id":"33"},{"type":"tags","id":"34"},{"type":"tags","id":"35"},{"type":"tags","id":"36"},{"type":"tags","id":"37"},{"type":"tags","id":"38"},{"type":"tags","id":"39"},{"type":"tags","id":"40"},{"type":"tags","id":"42"},{"type":"tags","id":"43"}]}}},{"type":"groups","id":"1","attributes":{"nameSingular":"Administrateur","namePlural":"Administrateurs","color":"#B72A2A","icon":"fas fa-wrench","isHidden":0}},{"type":"groups","id":"2","attributes":{"nameSingular":"Invit\u00e9","namePlural":"Invit\u00e9s","color":null,"icon":null,"isHidden":0}},{"type":"groups","id":"3","attributes":{"nameSingular":"Membre","namePlural":"Membres","color":null,"icon":null,"isHidden":0}},{"type":"groups","id":"4","attributes":{"nameSingular":"Mod\u00e9rateur","namePlural":"Mod\u00e9rateurs","color":"#80349E","icon":"fas fa-bolt","isHidden":0}},{"type":"tags","id":"1","attributes":{"name":"General","description":null,"slug":"general","color":"#888","backgroundUrl":null,"backgroundMode":null,"icon":null,"discussionCount":0,"position":0,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0}},{"type":"tags","id":"2","attributes":{"name":"Tutoriels","description":"","slug":"tutoriels","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":71,"position":2,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":52},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"88"}}}},{"type":"tags","id":"3","attributes":{"name":"Partages","description":"","slug":"partagess","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":46,"position":3,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-20T10:44:18+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":41},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"89"}}}},{"type":"tags","id":"9","attributes":{"name":"Support","description":"","slug":"support","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":4,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-04T17:18:38+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":8},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"28"}}}},{"type":"tags","id":"10","attributes":{"name":"C++","description":"","slug":"tuto-cpp","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":14,"position":1,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:27+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":9},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"87"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"11","attributes":{"name":"Lua","description":"","slug":"tuto-lua","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":10,"position":2,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:25:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":8},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"74"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"12","attributes":{"name":"SQL","description":"","slug":"tuto-sql","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":20,"position":4,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":12},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"88"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"13","attributes":{"name":"Vanilla","description":"","slug":"vanilla","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":12,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-07T13:34:50+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":13},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"31"}}}},{"type":"tags","id":"14","attributes":{"name":"The Burning Crusade","description":"","slug":"the-burning-crusade","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":14,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":14},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"88"}}}},{"type":"tags","id":"15","attributes":{"name":"Wrath of the Lich King","description":"","slug":"wrath-of-the-lich-king","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":27,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":27},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"65"}}}},{"type":"tags","id":"16","attributes":{"name":"Cataclysm","description":"","slug":"cataclysm","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":4,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:14:17+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"68"}}}},{"type":"tags","id":"17","attributes":{"name":"Mists of Pandaria","description":"","slug":"mists-of-pandaria","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:17:59+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"69"}}}},{"type":"tags","id":"18","attributes":{"name":"Warlords of Draenor","description":"","slug":"warlords-of-draenor","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:17:59+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"69"}}}},{"type":"tags","id":"19","attributes":{"name":"Legion","description":"","slug":"legion","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:17:59+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"69"}}}},{"type":"tags","id":"20","attributes":{"name":"Battle for Azeroth","description":"","slug":"battle-for-azeroth","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:17:59+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"69"}}}},{"type":"tags","id":"21","attributes":{"name":"Shadowlands","description":"","slug":"shadowlands","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":4,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:17:59+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"69"}}}},{"type":"tags","id":"23","attributes":{"name":"TrinityCore","description":"","slug":"trinitycore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":28,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":25},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"65"}}}},{"type":"tags","id":"24","attributes":{"name":"MaNGOS","description":"","slug":"mangos","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":11,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":12},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"88"}}}},{"type":"tags","id":"25","attributes":{"name":"AzerothCore","description":"","slug":"azerothcore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":21,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":17},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"65"}}}},{"type":"tags","id":"26","attributes":{"name":"Skyfire","description":"","slug":"skyfire","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-05T13:08:13+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"30"}}}},{"type":"tags","id":"27","attributes":{"name":"Oregoncore","description":"","slug":"oregoncore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":7,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-07T13:34:50+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":10},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"31"}}}},{"type":"tags","id":"28","attributes":{"name":"C++","description":"","slug":"cplusplus","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-09T16:29:34+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"42"}}}},{"type":"tags","id":"29","attributes":{"name":"SQL","description":"","slug":"sql","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":9,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-09T16:29:34+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":9},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"42"}}}},{"type":"tags","id":"30","attributes":{"name":"Lua","description":"","slug":"lua","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":15,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-18T11:03:06+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":15},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"52"}}}},{"type":"tags","id":"31","attributes":{"name":"PHP","description":"","slug":"php","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":0,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0}},{"type":"tags","id":"32","attributes":{"name":"C++","description":"","slug":"rel-cpp","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":1,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:23:41+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"72"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"33","attributes":{"name":"Lua","description":"","slug":"rel-lua","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":18,"position":2,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:49:19+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":17},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"85"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"34","attributes":{"name":"SQL","description":"","slug":"rel-sql","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":8,"position":4,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:41:46+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":7},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"78"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"35","attributes":{"name":"GIT","description":"","slug":"git","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2020-12-31T12:21:21+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":1},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"8"}}}},{"type":"tags","id":"36","attributes":{"name":"windows","description":"","slug":"windows","color":"#27ae60","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":6,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":7},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"65"}}}},{"type":"tags","id":"37","attributes":{"name":"Linux","description":"","slug":"linux","color":"#27ae60","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":5,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":5},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"65"}}}},{"type":"tags","id":"38","attributes":{"name":"Guides","description":"","slug":"guides","color":"#00FFF7","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":1,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:27:33+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":7},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"76"}}}},{"type":"tags","id":"39","attributes":{"name":"Autres","description":"","slug":"tuto-autres","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":0,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-05T13:08:13+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"30"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"40","attributes":{"name":"Autres","description":"","slug":"rel-autres","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":7,"position":0,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-20T10:44:18+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":7},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"89"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"42","attributes":{"name":"Model-changing","description":"","slug":"tuto-model-changing","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":0,"position":3,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0},"relationships":{"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"43","attributes":{"name":"Model-Changing","description":"","slug":"rel-model-changing","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":3,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:41:18+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"77"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"discussions","id":"88","attributes":{"title":"Changer la faction d\u0027une cr\u00e9ature","slug":"88-changer-la-faction-dune-creature","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:50:53+00:00","lastPostedAt":"2021-02-18T21:50:53+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"89","attributes":{"title":"Installeurs, clients, guides et outils divers, ce que vous voulez avec WoWDL","slug":"89-installeurs-clients-guides-et-outils-divers-ce-que-vous-voulez-avec-wowdl","commentCount":1,"participantCount":1,"createdAt":"2021-02-20T10:44:18+00:00","lastPostedAt":"2021-02-20T10:44:18+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"23"}}}},{"type":"discussions","id":"28","attributes":{"title":"Comment extraire les Vmaps sur des donjons modifier ?","slug":"28-comment-extraire-les-vmaps-sur-des-donjons-modifier","commentCount":8,"participantCount":4,"createdAt":"2021-01-03T22:30:02+00:00","lastPostedAt":"2021-01-04T19:13:07+00:00","lastPostNumber":8,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":true,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"8"}}}},{"type":"discussions","id":"87","attributes":{"title":"Top 10 Ar\u00e8nes C++","slug":"87-top-10-arenes-c","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:50:27+00:00","lastPostedAt":"2021-02-18T21:50:27+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"74","attributes":{"title":"Modificateur de Rates d\u0027EXP\u0027","slug":"74-modificateur-de-rates-dexp","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:25:53+00:00","lastPostedAt":"2021-02-18T21:25:53+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"31","attributes":{"title":"LIC - Lua Icons Chat","slug":"31-lic-lua-icons-chat","commentCount":1,"participantCount":1,"createdAt":"2021-01-07T13:34:50+00:00","lastPostedAt":"2021-01-07T13:34:50+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"65","attributes":{"title":"Faire s\u0027asseoir un PNJ comme un joueur","slug":"65-faire-sasseoir-un-pnj-comme-un-joueur","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:13:12+00:00","lastPostedAt":"2021-02-18T21:13:12+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"68","attributes":{"title":"Les conditions","slug":"68-les-conditions","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:14:17+00:00","lastPostedAt":"2021-02-18T21:14:17+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"69","attributes":{"title":"Phase des maps en 6x","slug":"69-phase-des-maps-en-6x","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:17:59+00:00","lastPostedAt":"2021-02-18T21:17:59+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"30","attributes":{"title":"Modifier la distance de vue","slug":"30-modifier-la-distance-de-vue","commentCount":1,"participantCount":1,"createdAt":"2021-01-05T13:08:13+00:00","lastPostedAt":"2021-01-05T13:08:13+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"42","attributes":{"title":"Les Bitmasks - Fonctionnement et Exemples","slug":"42-les-bitmasks-fonctionnement-et-exemples","commentCount":2,"participantCount":2,"createdAt":"2021-01-09T16:29:34+00:00","lastPostedAt":"2021-02-12T20:57:11+00:00","lastPostNumber":2,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"13"}}}},{"type":"discussions","id":"52","attributes":{"title":"Texture Coords Calculator","slug":"52-texture-coords-calculator","commentCount":1,"participantCount":1,"createdAt":"2021-01-18T11:03:06+00:00","lastPostedAt":"2021-01-18T11:03:06+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"72","attributes":{"title":"NPC Respawn","slug":"72-npc-respawn","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:23:41+00:00","lastPostedAt":"2021-02-18T21:23:41+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"85","attributes":{"title":"[AIO] - Modificateur de Rates EXP","slug":"85-aio-modificateur-de-rates-exp","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:49:19+00:00","lastPostedAt":"2021-02-18T21:49:19+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"78","attributes":{"title":"A.R.A.C","slug":"78-arac","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:41:46+00:00","lastPostedAt":"2021-02-18T21:41:46+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"8","attributes":{"title":"Cloner une version particuli\u00e8re de TrinityCore","slug":"8-cloner-une-version-particuliere-de-trinitycore","commentCount":1,"participantCount":1,"createdAt":"2020-12-31T12:21:21+00:00","lastPostedAt":"2020-12-31T12:21:21+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"76","attributes":{"title":"Un serveur, fonctionnement g\u00e9n\u00e9ral","slug":"76-un-serveur-fonctionnement-general","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:27:33+00:00","lastPostedAt":"2021-02-18T21:27:33+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"77","attributes":{"title":"Characters Create \u0026 Select Refoge","slug":"77-characters-create-select-refoge","commentCount":1,"participantCount":1,"createdAt":"2021-02-18T21:41:18+00:00","lastPostedAt":"2021-02-18T21:41:18+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"users","id":"2","attributes":{"username":"iThorgrim","displayName":"iThorgrim","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/m2uNfA3ykacYo3KQ.png","slug":"iThorgrim","joinTime":null}},{"type":"users","id":"23","attributes":{"username":"Tenshrock","displayName":"Tenshrock","avatarUrl":null,"slug":"Tenshrock","joinTime":null}},{"type":"users","id":"8","attributes":{"username":"Shard","displayName":"Shard","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/bYoQgxVXNpTYgA1Z.png","slug":"Shard","joinTime":null}},{"type":"users","id":"13","attributes":{"username":"noc","displayName":"noc","avatarUrl":null,"slug":"noc","joinTime":null}},{"type":"users","id":"1","attributes":{"username":"Galathil","displayName":"Galathil","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/6zjneQm6RzYl44hc.png","slug":"Galathil","joinTime":null}}],"session":{"userId":0,"csrfToken":"GhMoPJAwniLwT6yuE6P6pRm58Bu2gZ810Iur7nY9"},"locales":{"fr":"Fran\u00e7ais","en":"English"},"locale":"fr","fof-recaptcha.credentials.site":"6LfKZhoaAAAAALSGOmOPpIVRVM8XRksALQXeFtYW","fof-recaptcha.type":"","apiDocument":{"data":{"type":"discussions","id":"43","attributes":{"title":"Les tables SQL de Trinity","slug":"43-les-tables-sql-de-trinity","commentCount":1,"participantCount":1,"createdAt":"2021-01-09T16:37:26+00:00","lastPostedAt":"2021-01-09T16:37:26+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"posts":{"data":[{"type":"posts","id":"69"}]},"tags":{"data":[{"type":"tags","id":"2"},{"type":"tags","id":"12"},{"type":"tags","id":"23"}]}}},"included":[{"type":"posts","id":"69","attributes":{"number":1,"createdAt":"2021-01-09T16:37:26+00:00","contentType":"comment","contentHtml":"\u003Cp\u003E\u003Cstrong\u003EImportant :\u003C\/strong\u003E Ce tutoriel a \u00e9t\u00e9 r\u00e9dig\u00e9 par Nobodie pour le site wow-emu.fr. Je le recopie ici \u00e0 l\u0027identique, Il se peut que certaines informations soient obsol\u00e8tes \u00e0 ce jour. Bonne lecture !\u003C\/p\u003E\n\n\u003Ch1\u003ELes tables SQL de Trinity\u003C\/h1\u003E\n\n\u003Cp\u003E\u003Cstrong\u003EPr\u00e9lude : Ce sujet n\u0027est pas original, il a \u00e9t\u00e9 transf\u00e9r\u00e9 d\u0027un pr\u00e9c\u00e9dent forum d\u0027\u00e9mulation en date d\u0027Octobre 2013. J\u0027en suis l\u0027auteur, je le transf\u00e8re donc pour les besoins de ce forum. Bien qu\u0027il soit en partie r\u00e9-\u00e9crit, il se peut que certains termes soient inadapt\u00e9s ou ne soient plus d\u0027actualit\u00e9.\u003Cbr\u003E\nCe tutoriel n\u0027a pas \u00e9t\u00e9 directement \u00e9crit par moi-m\u00eame, mais par un des membres de l\u0027\u00e9quipe Mist-Eria. ce sujet est post\u00e9 avec l\u0027accord de son auteur. Des modifications peuvent y \u00eatre apport\u00e9es dans un but de clarification.\u003C\/strong\u003E\u003C\/p\u003E\n\n\u003Cp\u003EBonjour tous le monde,\u003C\/p\u003E\n\n\u003Cp\u003ESuite au tutoriel sur l\u0027apprentissage des bases du SQL, on continue la s\u00e9rie avec une explication sur les tables TrinityCore. Pour la suite de ce post, nous partirons sur une base 4.3.4.\u003C\/p\u003E\n\n\u003Ch2\u003E1) Un serveur WoW, 3 bases de donn\u00e9es\u003C\/h2\u003E\n\n\u003Cp\u003EPour fonctionner, un serveur WoW (ici TrinityCore) a besoin de tr\u00e8s nombreuses tables qui permettent de stocker de nombreuses informations comme la liste des joueurs, leur inventaire, leurs spells, mais aussi la liste des NPCs, leur niveau et des milliers d\u0027autres informations.\u003C\/p\u003E\n\n\u003Cp\u003EPour cela, les concepteurs des \u00e9mulateurs ont divis\u00e9 les tables dans trois DBs :\u003C\/p\u003E\n \u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003Echaracters\u003C\/strong\u003E : qui contient la liste des personnages et toutes les informations les concernant.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Eauth\u003C\/strong\u003E : qui g\u00e8re l\u0027authentification des comptes (notamment sur la page de connexion).\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Eworld\u003C\/strong\u003E : qui contient toutes les donn\u00e9es concernant le monde.\u003C\/li\u003E\u003C\/ul\u003E\n\n\u003Cp\u003ENous pourrions d\u00e9tailler les trois DBs, mais l\u0027int\u00e9r\u00eat serait limit\u00e9 pour la table auth et characters qui ne sont pas tellement d\u00e9buguables, en revanche la base world est celle sur laquelle les devs SQL ont l\u0027habitude de travailler, donc c\u0027est parti pour la d\u00e9tailler et surtout pour la comprendre.\u003C\/p\u003E\n\n\u003Ch3\u003ELes tables *_template et associ\u00e9s\u003C\/h3\u003E\n\n\u003Cp\u003EComme son nom l\u0027indique, cette DB d\u00e9crit le contenu du monde. Que ce soit pour une qu\u00eate, un objet du jeu, une cr\u00e9ature ou bien d\u0027autres choses, c\u0027est la DB o\u00f9 vous travaillez. J\u0027esp\u00e8re que cette introduction bien peu utile vous aura distrait parce que c\u0027est parti pour bosser :niark: .\u003C\/p\u003E\n\n\u003Cp\u003ELorsque vous lirez les lignes qui suivent, ne perdez pas de vue que tout ce que vous faites dans les tables SQL est reli\u00e9 au Core (c\u0027est \u00e0 dire au syst\u00e8me g\u00e9rant le serveur). Ainsi si vous cr\u00e9ez une ligne pour un nouveau NPC, cela signifiera que le Core lira \u00e0 un moment ou \u00e0 un autre votre ligne.\u003C\/p\u003E\n\n\u003Cp\u003ELes premi\u00e8res tables seront celles qui permettent d\u2019interagir rapidement sur le monde (histoire de vous mettre l\u0027eau \u00e0 la bouche).\u003Cbr\u003E\nLes tables dont nous parlons sont :\u003C\/p\u003E\n \u003Cul\u003E\u003Cli\u003Ecreature_template \/ creature\u003C\/li\u003E\n \u003Cli\u003Egameobject_template \/ gameobject\u003C\/li\u003E\n \u003Cli\u003Eitem_template\u003C\/li\u003E\n \u003Cli\u003Equest_template\u003C\/li\u003E\u003C\/ul\u003E\n\n\n\u003Cp\u003EEn dehors de quest_template et item_template, vous remarquerez que les tables fonctionnent par paire. Template signifie mod\u00e8le. Donc dans les tables *_template, on trouve une d\u00e9finition de l\u0027objet. Par exemple si on est dans creature_template on trouvera le nom du NPC, son niveau, sa vie. Alors que dans les tables sans _template on trouvera l\u0027instanciation du template. Pour creature, cela signifiera qu\u0027on trouvera l\u0027endroit o\u00f9 est spawn le NPC (son altitude, la zone, la coordonn\u00e9e X et Y ainsi que quelques petites informations comme le temps de spawn ou ce genre de chose).\u003C\/p\u003E\n\n\u003Cp\u003EAlors dit comme \u00e7a c\u0027est bien beau, mais concr\u00e8tement, \u00e7a ressemble \u00e0 quoi en DB ?\u003Cbr\u003E\nEt bien les couples de tables sont reli\u00e9 par... un id !\u003C\/p\u003E\n\n\u003Cp\u003EAinsi dans les tables *_template vous avez un champ nomm\u00e9 entry ou id (selon la version de votre DB). Cet identifiant permet dans la table sans le _template d\u0027identifier le template.\u003Cbr\u003E\nPlus clairement :\u003Cbr\u003E\nSi je cr\u00e9e le NPC 1 dans la table creature_template, je pourrai spawn un NPC correspondant au template 1 en sp\u00e9cifiant l\u0027id 1 dans la table creature.\u003C\/p\u003E\n\n\u003Cp\u003ELes _template d\u00e9finissent un objet \/ creature \/ qu\u00eate \/ item alors que les autres tables les placent dans le monde.\u003Cbr\u003E\nAlors pourquoi item et quest n\u0027ont pas de table sans _template ? Tout simplement parce qu\u0027une qu\u00eate ne peut pas \u00eatre mat\u00e9rialis\u00e9 \u00e0 un endroit pr\u00e9cis tout comme un item. Les qu\u00eates sont un regroupement d\u0027informations, et les items ont leur existence propre uniquement lorsqu\u0027ils sont poss\u00e9d\u00e9s par des joueurs.\u003C\/p\u003E\n\n\u003Cp\u003EJ\u0027insiste beaucoup sur cette diff\u00e9rence *_template \/ sans _template car c\u0027est un des points fondamentales de la logique TrinityCore (et s\u00fbrement Mangos\u0026amp;co).\u003C\/p\u003E\n\n\u003Cp\u003EMaintenant si vous souhaitez comprendre toutes ces tables, il ne vous reste plus qu\u0027\u00e0 visiter le wiki Trinity (je ne tiens pas vraiment \u00e0 lister tous les champs pour vos beaux yeux \ud83d\ude09).\u003C\/p\u003E\n\n\u003Ch3\u003ELes tables locales_*\u003C\/h3\u003E\n\n\u003Cp\u003ECes tables l\u00e0 ne sont vraiment pas compliqu\u00e9es mais sont tr\u00e8s nombreuses, j\u0027explique donc leur fonctionnement une fois et comme \u00e7a, vous n\u0027y pensez plus.\u003Cbr\u003E\nLes tables locales servent simplement \u00e0 d\u00e9finir les traductions des noms de diff\u00e9rentes choses jusqu\u0027\u00e0 dans 9 langues. Ainsi locales_creature, on vous propose de traduire le nom et et le \u0022sous-nom\u0022 d\u0027une cr\u00e9ature : sp\u00e9cifiez l\u0027entry de la cr\u00e9ature et ensuite traduisez. Vous n\u0027\u00eates \u00e9videmment pas oblig\u00e9s de traduire dans toutes les langues, mais juste celle qui vous int\u00e9resse ^^.\u003Cbr\u003E\nPour savoir \u00e0 quelle langue correspond name_loc1, il faut voir sur le wiki trinity \u00e0 quoi correspond la langue 1.\u003C\/p\u003E\n\n\u003Cp\u003EC\u0027est tout pour cette sous-partie \ud83d\ude00.\u003C\/p\u003E\n\n\u003Ch3\u003ECreature_questrelation, creature_involvedrelation et les \u00e9quivalents gameobject\u003C\/h3\u003E\n\n\u003Cp\u003EJ\u0027ai parl\u00e9 plus haut des games objects sans pour autant les d\u00e9finir. La traduction fran\u00e7aise de ces termes est : objet du jeu. Les objets du jeu peuvent \u00eatre un banc, une affiche, une table, et m\u00eame Hurlevent (si si hurlevent doit se placer sur la map comme une pauvre chaise).\u003C\/p\u003E\n\n\u003Cp\u003EPlus haut, nous avons vu qu\u0027il y avait des templates de qu\u00eates. Vous vous doutez bien qu\u0027on y d\u00e9finit les objectifs, les r\u00e9compenses et ce genre de chose. En revanche, vous ne savez pas encore comment on sait si un NPC doit donner une qu\u00eate. Et bien dans quelques minutes vous le saurez gr\u00e2ce \u00e0 ces quatre tables SQL.\u003Cbr\u003E\nLa table creature_questrelation dispose de deux champs : id et quest. ID correspond \u00e0 l\u0027identifiant du NPC qui donnera la qu\u00eate et quest \u00e0 la qu\u00eate qui sera donn\u00e9e. Creature_involvedrelation fait exactement la m\u00eame chose avec les m\u00eames champs, mais l\u0027objectif est de d\u00e9finir le NPC qui vous permettra de prendre vos r\u00e9compenses.\u003C\/p\u003E\n\n\u003Cp\u003EVous l\u0027avez s\u00fbrement remarqu\u00e9 : les panneaux dans les grandes capitales donnent des qu\u00eates, et pourtant ce ne sont pas des NPCs : c\u0027est un gameobject (ou GOB) \ud83d\ude00. Pour qu\u0027un GOB puisse donner une qu\u00eate il existe deux tables : gameobject_questrelation et gameobject_involvedrelation. Je ne d\u00e9crirais pas le fonctionnement de ces tables, mais vous aurez devin\u00e9 que c\u0027est exactement comme pour les cr\u00e9atures ^^.\u003C\/p\u003E\n\n\u003Cp\u003EAvec l\u0027ensemble de ces tables, vous pouvez d\u00e9j\u00e0 bien vous amuser. L\u0027important c\u0027est avant tout de pratiquer et de prendre des automatismes. C\u0027est notamment ce qui vous permettra peu \u00e0 peu de comprendre la logique de TrinityCore \ud83d\ude00.\u003C\/p\u003E\n\n\u003Ch3\u003ELes gossips\u003C\/h3\u003E\n\n\u003Cp\u003ELorsqu\u0027un NPC ouvre une fen\u00eatre de discussion avec vous, il ouvre un gossip (gossip signifiant discussion ^^). Leur gestion s\u0027effectue \u00e0 l\u0027aide de deux tables : gossip_menu qui contient la liste des gossip en reliant l\u0027ID du NPC au texte qui sera affich\u00e9 en haut de la fen\u00eatre (et qui est stock\u00e9 dans npc_text) et gossip_menu_option qui g\u00e8re les diff\u00e9rentes possibilit\u00e9s offerte par le gossip.\u003Cbr\u003E\nPour cr\u00e9er un gossip sur un NPC on commence tout d\u0027abord par attribu\u00e9 un flag au NPC dans le creature_template, c\u0027est \u00e0 dire qu\u0027on va lui ajouter selon le principe des bitmasks une valeur qui sera g\u00e9r\u00e9 par le core et qui lui indiquera que le NPC doit ouvrir un gossip lorsqu\u0027on clic sur lui. Le flag correspondant au gossip est le flag 1. Pour l\u0027ajouter \u00e0 un flag d\u00e9j\u00e0 existant, il suffit de faire flag | 1, s\u0027il n\u0027y a aucun flag, on met simplement une valeur de 1. Je vous invite \u00e0 aller lire le tutoriel sur les bitmasks pour mieux comprendre leur fonctionnement.\u003C\/p\u003E\n\n\u003Cp\u003EUne fois cela fait, et toujours dans le creature_template, on va lier le template \u00e0 la table gossip_menu. Pour cela on donne \u00e0 la colonne gossip_menu_id avec l\u0027id qu\u0027on donnera dans gossip_menu : l\u0027objectif est de lier les deux gr\u00e2ce \u00e0 un identifiant unique.\u003C\/p\u003E\n\n\u003Cp\u003EVous l\u0027aurez devin\u00e9 une fois cela fait on cr\u00e9e dans la table gossip_menu une ligne liant le champ gossip_menu_id avec le texte qui sera \u00e9crit en haut. Apr\u00e8s avoir un peu observ\u00e9 cette table, vous verrez quelque chose de monstrueux ! : il n\u0027y a pas de varchar o\u00f9 l\u0027on peut \u00e9crire. Ne vous inqui\u00e9tez pas, tout est normal. Il faut en faites remplir dans la seconde colonne un id vers la table npc_text (\u00e7a devient compliqu\u00e9). Choisissez donc un id pour le npc_text et inscrivez le dans le gossip_menu.\u003Cbr\u003E\nPour remplir rien de bien compliqu\u00e9 : le champ text0_0 correspond au texte pour un personnage homme et text0_1 au texte pour un personnage femme.\u003C\/p\u003E\n\n\u003Cp\u003ESi vous red\u00e9marrez votre serveur, vous pourrez cliquer sur votre NPC et voir s\u0027afficher le text0_0\/1 \ud83d\ude00.\u003C\/p\u003E\n\n\u003Cp\u003EPassons maintenant \u00e0 la seconde partie, les options. Pour cela rendez-vous dans la table gossip_menu_option. Pour d\u00e9finir une option, on entre le menu_id (l\u0027id que vous avez d\u00e9finit avec le gossip_menu_id dans creature_template ensuite rentrez un id qui identifiera l\u0027option pour le gossip d\u0027id gossip_menu_id. Ainsi si vous avez deux options, vous aurez l\u0027id 1 et 2.\u003C\/p\u003E\n\n\u003Cp\u003EPour l\u0027option_icon, vous pouvez choisir un chiffre dans la liste (sur le wiki). Certains \u00e9mulateurs ne fonctionnent pas lorsqu\u0027on met une autre valeur que le un. Le champ option_text correspond au texte de l\u0027option, pour les champs option_id et npc_option_npcflag laissez la valeur \u00e0 1 (sauf cas tr\u00e8s particulier qui ne m\u00e9rite pas forc\u00e9ment quelques paragraphes).\u003Cbr\u003E\nVous pouvez laisser vide les derniers champs.\u003Cbr\u003E\nSi vous avez une table nomm\u00e9e gossip_scripts, vous pouvez mettre dans action_menu_id l\u0027id du script lanc\u00e9 par l\u0027option du gossip (vous verrez plus bas les tables en *_scripts).\u003C\/p\u003E\n\n\u003Ch3\u003ELes waypoints et waypoints_data\u003C\/h3\u003E\n\n\u003Cp\u003EC\u0027est bien joli d\u0027avoir des NPCs fonctionnels un peu partout, mais c\u0027est pas forc\u00e9ment tr\u00e8s beau. D\u0027o\u00f9 l\u0027int\u00e9r\u00eat des waypoints : faire marcher des NPCs d\u0027un point A \u00e0 un point B (et m\u00eame jusqu\u0027\u00e0 un point Z ou 30000). Le syst\u00e8me marche avec deux tables : waypoints et waypoints_data. La seconde table est facultative mais permet d\u0027ajouter certaines informations.\u003C\/p\u003E\n\n\u003Cp\u003EDans waypoints, vous entrez le GUID du NPC. Je ne vous en ai pas encore parl\u00e9, mais les GUID sont des identifiants uniques (Global Unique IDentifier). Si vous avez un template (oui on en revient toujours \u00e0 ces tables \ud83d\ude0b), vous pouvez spawner plusieurs fois le NPC du template. Comment identifier chacun des NPCs spawn\u00e9 ? Eh bien avec un GUID. Vous pouvez avoir 36 000 NPCs avec un template = 1, ils auront tous un GUID diff\u00e9rent (un champ auto-incr\u00e9ment\u00e9 dans la table creature ou gameobject).\u003C\/p\u003E\n\n\u003Cp\u003EReprenons donc \u00e0 nos waypoints : entrez le GUID du NPC que vous souhaitez faire bouger, l\u0027id du point (si vous devez faire aller un NPC de A \u00e0 B, il faut donner un ID au point : le point 1 sera le premier, le 2 ensuite, etc), puis les coordonn\u00e9es de chaque point et enfin si vous le souhaitez un commentaire (point de d\u00e9part, point d\u0027arriv\u00e9, etc...).\u003C\/p\u003E\n\n\u003Cp\u003ESi nous devions remplir cette table nous m\u00eame, nous serions encore plus fou que ce que nous sommes d\u00e9j\u00e0, mais heureusement pour nous, il existe la commande .wp que je ne vous d\u00e9crirai pas ici.\u003C\/p\u003E\n\n\u003Cp\u003EEn revanche, la table waypoints_data elle est \u00e0 faire \u00e0 la main (mais heureusement, elle est juste facultative). Elle peut vous servir par exemple si vous souhaitez que votre NPC attende 10 secondes avant d\u0027aller au point suivant). Cr\u00e9ez une ligne dans la table waypoints_data donnez lui le GUID du NPC et le point sur lequel vous souhaitez influer. Ensuite rentrez ce que vous souhaitez : delay pour changer la dur\u00e9e avant le nouveau d\u00e9part, move_flag pour faire marcher le NPC plut\u00f4t que de le faire courir, action pour joindre le waypoints \u00e0... waypoints_script (les tables *_scripts seront vues plus bas).\u003C\/p\u003E\n\n\u003Ch3\u003E*_scripts et la magie s\u0027op\u00e9ra\u003C\/h3\u003E\n\n\u003Cp\u003EIl arrive que l\u0027on veuille faire des choses compliqu\u00e9es et bien souvent on pense tout de suite au C++, cependant bien des choses sont faisables avec le SQL \u00e0 l\u0027aide de certaines tables comme les tables en *_scripts.\u003C\/p\u003E\n\n\u003Cp\u003ESelon votre version de Trinity (voir de SkyFire) les tables en *_scripts disponibles ne sont pas les m\u00eames, mais le syst\u00e8me est toujours similaire : sur un \u00e9v\u00e9nement -\u0026gt; faire une action. On pourrait presque parler de micro-programmation \u00e9v\u00e9nementielle ^^.\u003C\/p\u003E\n\n\u003Cp\u003ESelon les tables li\u00e9es aux scripts, l\u2019\u00e9v\u00e9nement se d\u00e9clenche de mani\u00e8re diff\u00e9rente. Dans le cas d\u0027un waypoint, l\u2019\u00e9v\u00e9nement se d\u00e9clenche \u00e0 l\u0027arriv\u00e9 du NPC sur le point li\u00e9 au script. Une fois cela fait, il faut donner la dur\u00e9e avant le d\u00e9clenchement de l\u0027action (bien souvent 0 milliseconde) puis le type d\u0027action (la commande), enfin on donne les param\u00e8tres correspondant \u00e0 la commande : pour t\u00e9l\u00e9porter un joueur on ne donnera pas les m\u00eames param\u00e8tres que pour ouvrir une porte ou tuer un mob.\u003C\/p\u003E\n\n\u003Cp\u003EToutes ces commandes et leurs param\u00e8tres sont trouvables sur le wiki de Trinity.\u003C\/p\u003E\n\n\u003Cp\u003EEn faites j\u0027ai \u00e9crit les tables *_scripts, mais la table smart_scripts ne rentre pas dedans. Pourquoi ? Parce que c\u0027est une table bien plus compl\u00e8te qui m\u00e9rite sa propre partie ^^.\u003C\/p\u003E\n\n\u003Ch3\u003ESmart_scripts ou mal de t\u00eate express\u003C\/h3\u003E\n\n\u003Cp\u003ELe titre vous a s\u00fbrement intrigu\u00e9, mais il est tr\u00e8s proche de la r\u00e9alit\u00e9. La complexit\u00e9 de la table smart_scripts permet de faire beaucoup de choses (pour du SQL).\u003C\/p\u003E\n\n\u003Cp\u003ECette page vous sera indispensable pour faire du smart_scripts, vous y trouverez tous les tableaux de correspondances\u003C\/p\u003E\n\n\u003Cp\u003ETout comme pour les tables en _scripts, smart_scripts d\u00e9clenche une action sur un \u00e9v\u00e9nement.\u003Cbr\u003E\nTout d\u0027abord on d\u00e9finit l\u2019\u00e9l\u00e9ment qu\u0027on va v\u00e9rifier pour valider un \u00e9v\u00e9nement. Ce champ est le source_type. Ensuite, donnez l\u0027entryorguid : si vous souhaitez indiquer un entry \u00e9crivez le, si c\u0027est un GUID, \u00e9crivez le en version n\u00e9gative : pour le guid 3165, il faudra \u00e9crire : -3165.\u003Cbr\u003E\nVient ensuite l\u0027id, comme souvent dans les tables Trinity, l\u0027id est l\u0027id pour l\u0027association entryorguid\/source_type. Ainsi si vous avez plusieurs smart_scripts pour un m\u00eame \u00e9l\u00e9ment, il y aura plusieurs id : 1, 2, 3... Le champ link permet de lier entre eux des scripts : Une fois le script d\u0027id A ex\u00e9cut\u00e9, il lancera celui qui est dans le champ link. Pour que le script B se lance, il faut obligatoirement que l\u2019\u00e9v\u00e9nement B soit de type : SMART_EVENT_LINK.\u003C\/p\u003E\n\n\u003Cp\u003EIl vous faut ensuite d\u00e9finir le type de l\u0027\u00e9v\u00e9nement (la liste se trouve toujours sur le lien plus haut) et si vous le souhaitez la probabilit\u00e9 qu\u0027il se produise (en pourcentage). Rentrez ensuite les param\u00e8tres demand\u00e9 sur la page du wiki puis choisissez le type d\u0027action et rentrez les param\u00e8tres correspondants.\u003Cbr\u003E\nPour d\u00e9finir la cible de l\u0027action rentrez les champs de target (type + param\u00e8tres). Dans certains cas les \u00e9v\u00e9nements ont aussi besoin d\u0027une cible au quel cas, tout se complique. Vous ne pouvez rentrer qu\u0027une seule target. La solution est donc de faire deux smart_scripts li\u00e9 par le link et l\u2019\u00e9vent SMART_EVENT_LINK.\u003C\/p\u003E\n\n\u003Cp\u003EPour expliquer votre smart_scripts vous pouvez aussi ins\u00e9rer un commentaire dans le dernier champ.\u003C\/p\u003E\n\n\u003Cp\u003EVu comme \u00e7a, les smart_scripts ne donnent pas vraiment envie, et c\u0027est tout \u00e0 fait normal. Cependant il existe un outils r\u00e9volutionnaire pour les r\u00e9diger qui vous permettra de gagner \u00e9norm\u00e9ment de temps et de vous rendre les smart_scripts presque... agr\u00e9able \ud83d\ude00. Ce logiciel se nomme Event Horizon et donne une interface graphique pour g\u00e9n\u00e9rer vos codes SQL.\u003C\/p\u003E\n\n\u003Ch3\u003EConditions\u003C\/h3\u003E\n\n\u003Cp\u003EEncore une table compliqu\u00e9e qui permet de faire des merveilles. Elle permet \u00e0 l\u0027aide de conditions pr\u00e9d\u00e9finies de faire appara\u00eetre ou dispara\u00eetre des \u00e9l\u00e9ments du jeu : que ce soit un NPC, une qu\u00eate, un gossip, une vente, un smart_scripts.\u003Cbr\u003E\nBref une table permettant de faire des choses compliqu\u00e9es est forc\u00e9ment tr\u00e8s ennuyante.\u003C\/p\u003E\n\n\u003Cp\u003EEtant donn\u00e9e sa complexit\u00e9, je ne vais pas vous la d\u00e9tailler, mais sachez que le wiki est tr\u00e8s clair sur cette table (\u00e0 condition que vous descendiez vers le bas de la page \ud83d\ude09).\u003C\/p\u003E\n\n\u003Ch3\u003EDes tables en vracs\u003C\/h3\u003E\n\n\u003Cp\u003EIl existe des dizaines de tables, et faire le descriptif d\u00e9taill\u00e9 de chacune serait tr\u00e8s long sans pour autant vous assurer de bien les retenir. Voici donc une liste de quelques tables avec une description :\u003C\/p\u003E\n \u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003Eautobroadcast\u003C\/strong\u003E : cette table sert \u00e0 d\u00e9finir les messages qui sont automatiquement publi\u00e9s par le serveur.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Ecommand\u003C\/strong\u003E : l\u0027aide des commandes en jeu. Lorsque vous tapez .help commande, le jeu vous affiche la ligne correspondant \u00e0 la commande.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Ecreature_addon \/ creature_template_addon\u003C\/strong\u003E : permet d\u0027ajouter des montures ou des smileys sur des guid ou des id de cr\u00e9ature.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Ecreature_formation\u003C\/strong\u003E : permet de d\u00e9finir des groupes de NPCs qui bougent ensemble (notamment utilis\u00e9 pour g\u00e9rer les arm\u00e9es devant les capitales) ou pour cr\u00e9er des groupes de NPCs hostiles qui s\u0027entraident en cas d\u0027attaque.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Edisables\u003C\/strong\u003E : permet de d\u00e9sactiver certains \u00e9l\u00e9ments du jeu (qu\u00eate, NPC, etc) sans pour autant les supprimer des tables (pour pouvoir les r\u00e9activer plus tard). En g\u00e9n\u00e9ral, on \u00e9vite de supprimer une ligne du world, on pr\u00e9f\u00e8re utiliser cette table.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Egame_event \/ game_event_\u003C\/strong\u003E* : ces tables sont utilis\u00e9s pour g\u00e9rer les \u00e9v\u00e9nements en jeu et ainsi relier de nombreuses informations entre elle avec la possibilit\u00e9 de les d\u00e9sactiver facilement. Un petit tutoriel sera d\u00e9di\u00e9 \u00e0 ces quelques tables.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Egame_graveyard_zone\u003C\/strong\u003E : liste les zones de t\u00e9l\u00e9portation des joueurs \u00e0 leur mort selon leur zone\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Egame_tele\u003C\/strong\u003E : table contenant tous les points de t\u00e9l\u00e9portation (commande : .tele xxx)\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Egame_weather\u003C\/strong\u003E : ici sont stock\u00e9s les probabilit\u00e9s de chaque m\u00e9t\u00e9o par zone (orage, soleil, pluie, neige)\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Email_level_reward\u003C\/strong\u003E : contient les mails envoy\u00e9 automatiquement \u00e0 certains niveaux.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Enpc_vendor\u003C\/strong\u003E : contient les items vendu par un NPC vendeur (attention le NPC doit avoir le flag 128)\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Eplayer_levelstats\u003C\/strong\u003E : une table tr\u00e8s probl\u00e9matique lorsqu\u0027on ne connait pas la formule math\u00e9matiques utilis\u00e9s par blizzard qui d\u00e9finit les stats minimum des joueurs lorsqu\u0027ils sont nu \u00e0 chaque niveau.\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Eplayer_xp_for_level\u003C\/strong\u003E : contient le nombre de points d\u0027exp\u00e9rience n\u00e9cessaire pour passer au niveau sup\u00e9rieur\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Eplayercreateinfo_\u003C\/strong\u003E* : les donn\u00e9es qui sont g\u00e9n\u00e9r\u00e9s lors de la cr\u00e9ation d\u0027un personnage (par exemple lorsque vous commencer un personnage vous parlez d\u00e9j\u00e0 certaines langues -qui sont des spells-, vous avez des v\u00eatements -des items- et bien d\u0027autres choses\u003C\/li\u003E\n \u003Cli\u003E\u003Cstrong\u003Epool_\u003C\/strong\u003E* : ces tables ci sont faites pour faire appara\u00eetre un des \u00e9l\u00e9ments contenu avec une certaine probabilit\u00e9. Par exemple, un drakonide rare pourra \u00eatre plac\u00e9 dedans et il spawnera au diff\u00e9rents emplacements d\u00e9finies de mani\u00e8re al\u00e9atoire.\u003C\/li\u003E\n \u003Cli\u003E*\u003Cstrong\u003E_loot_template\u003C\/strong\u003E : ces tables d\u00e9finissent le taux de loot d\u0027items lorsqu\u0027un mob meurt, mais aussi lorsqu\u0027il est fouill\u00e9 par un voleur ou ce genre de chose.\u003C\/li\u003E\u003C\/ul\u003E\n\n\n\u003Cp\u003EIl existe \u00e9videmment d\u0027autres tables, mais le but de ce cour n\u0027\u00e9tait pas de r\u00e9\u00e9crire le wiki mais bien d\u0027essayer de vous faire comprendre quelles tables \u00e9taient les plus importantes.\u003C\/p\u003E\n\n\u003Cp\u003ESi vous pensez que certaines tables \u00e9voqu\u00e9es uniquement dans la derni\u00e8re partie voir pas du tout \u00e9voqu\u00e9es m\u00e9ritent une place dans les tables que je d\u00e9cris plus volontiers, vous pouvez le sp\u00e9cifier dans les r\u00e9ponses, et je r\u00e9fl\u00e9chirai \u00e0 leur int\u00e9gration dans le cour \ud83d\ude00.\u003C\/p\u003E\n\n\u003Cp\u003EN\u0027oubliez pas de pratiquer car c\u0027est la cl\u00e9 du d\u00e9veloppement SQL sous TrinityCore.\u003Cbr\u003E\nBon d\u00e9veloppement.\u003C\/p\u003E ","editedAt":"2021-01-09T16:48:25+00:00","canEdit":false,"canDelete":false,"canHide":false,"isApproved":true,"canApprove":false,"canFlag":false,"canLike":false},"relationships":{"discussion":{"data":{"type":"discussions","id":"43"}},"user":{"data":{"type":"users","id":"1"}},"editedUser":{"data":{"type":"users","id":"1"}},"likes":{"data":[{"type":"users","id":"2"}]},"mentionedBy":{"data":[]}}},{"type":"users","id":"1","attributes":{"username":"Galathil","displayName":"Galathil","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/6zjneQm6RzYl44hc.png","slug":"Galathil","joinTime":null,"discussionCount":33,"commentCount":35,"canEdit":false,"canDelete":false,"lastSeenAt":"2021-02-20T10:45:06+00:00","canSuspend":false},"relationships":{"groups":{"data":[{"type":"groups","id":"1"},{"type":"groups","id":"4"}]}}},{"type":"users","id":"2","attributes":{"username":"iThorgrim","displayName":"iThorgrim","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/m2uNfA3ykacYo3KQ.png","slug":"iThorgrim","joinTime":null}},{"type":"groups","id":"1","attributes":{"nameSingular":"Administrateur","namePlural":"Administrateurs","color":"#B72A2A","icon":"fas fa-wrench","isHidden":0}},{"type":"groups","id":"4","attributes":{"nameSingular":"Mod\u00e9rateur","namePlural":"Mod\u00e9rateurs","color":"#80349E","icon":"fas fa-bolt","isHidden":0}},{"type":"tags","id":"2","attributes":{"name":"Tutoriels","description":"","slug":"tutoriels","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":71,"position":2,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":52}},{"type":"tags","id":"12","attributes":{"name":"SQL","description":"","slug":"tuto-sql","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":20,"position":4,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-18T21:50:53+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":12}},{"type":"tags","id":"23","attributes":{"name":"TrinityCore","description":"","slug":"trinitycore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":28,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-18T21:13:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":25}}]}});
                flarum.core.app.bootExtensions(flarum.extensions);
                flarum.core.app.boot();
            } catch (e) {
                var error = document.getElementById('flarum-loading-error');
                error.innerHTML += document.getElementById('flarum-content').textContent;
                error.style.display = 'block';
                throw e;
            }
        </script>
</body>
</html>
